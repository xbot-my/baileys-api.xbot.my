"use strict";(globalThis.webpackChunkbaileys_api_docs=globalThis.webpackChunkbaileys_api_docs||[]).push([[183],{8453(e,n,s){s.d(n,{R:()=>d,x:()=>o});var t=s(6540);const c={},i=t.createContext(c);function d(e){const n=t.useContext(i);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:d(e.components),t.createElement(i.Provider,{value:n},e.children)}},9590(e,n,s){s.r(n),s.d(n,{assets:()=>r,contentTitle:()=>o,default:()=>h,frontMatter:()=>d,metadata:()=>t,toc:()=>a});const t=JSON.parse('{"id":"baileys-api/guides/websocket","title":"WebSocket Events","description":"Connect to the WebSocket at: /api/events","source":"@site/../docs/baileys-api/guides/websocket.md","sourceDirName":"baileys-api/guides","slug":"/baileys-api/guides/websocket","permalink":"/docs/baileys-api/guides/websocket","draft":false,"unlisted":false,"editUrl":"https://github.com/xbot-my/baileys-api/edit/main/../docs/baileys-api/guides/websocket.md","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"slug":"websocket","title":"WebSocket Events","sidebar_position":4},"sidebar":"docs","previous":{"title":"Configuration","permalink":"/docs/baileys-api/guides/configuration"},"next":{"title":"Troubleshooting","permalink":"/docs/baileys-api/troubleshooting"}}');var c=s(4848),i=s(8453);const d={slug:"websocket",title:"WebSocket Events",sidebar_position:4},o="WebSocket Events",r={},a=[{value:"Connection",id:"connection",level:2},{value:"JavaScript (Socket.IO Client)",id:"javascript-socketio-client",level:3},{value:"Python",id:"python",level:3},{value:"Available Events",id:"available-events",level:2},{value:"Event Payloads",id:"event-payloads",level:2},{value:"messages.upsert",id:"messagesupsert",level:3},{value:"connection.update",id:"connectionupdate",level:3},{value:"presence.update",id:"presenceupdate",level:3}];function l(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,i.R)(),...e.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(n.header,{children:(0,c.jsx)(n.h1,{id:"websocket-events",children:"WebSocket Events"})}),"\n",(0,c.jsxs)(n.p,{children:["Connect to the WebSocket at: ",(0,c.jsx)(n.code,{children:"/api/events"})]}),"\n",(0,c.jsx)(n.h2,{id:"connection",children:"Connection"}),"\n",(0,c.jsx)(n.h3,{id:"javascript-socketio-client",children:"JavaScript (Socket.IO Client)"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-javascript",children:"const { io } = require('socket.io-client');\n\nconst socket = io('http://localhost:3000/api/events', {\n  auth: { token: 'your-api-key' }\n});\n\n// Subscribe to specific events\nsocket.emit('subscribe', ['messages.upsert', 'connection.update']);\n\nsocket.on('connect', () => console.log('Connected'));\nsocket.on('disconnect', () => console.log('Disconnected'));\n"})}),"\n",(0,c.jsx)(n.h3,{id:"python",children:"Python"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-python",children:"import socketio\n\n# Create client\nsio = socketio.Client()\n\n# Authentication\nsio.connect('http://localhost:3000/api/events',\n            auth={'token': 'your-api-key'})\n\n# Subscribe to events\nsio.emit('subscribe', ['messages.upsert', 'connection.update'])\n\n@sio.on('connect')\ndef on_connect():\n    print('Connected')\n\n@sio.on('disconnect')\ndef on_disconnect():\n    print('Disconnected')\n\n# Keep running\nsio.wait()\n"})}),"\n",(0,c.jsx)(n.h2,{id:"available-events",children:"Available Events"}),"\n",(0,c.jsxs)(n.table,{children:[(0,c.jsx)(n.thead,{children:(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.th,{children:"Event"}),(0,c.jsx)(n.th,{children:"Description"})]})}),(0,c.jsxs)(n.tbody,{children:[(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"connection.update"})}),(0,c.jsx)(n.td,{children:"Connection status changes"})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"auth.qr"})}),(0,c.jsx)(n.td,{children:"QR code generated"})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"auth.pairing-code"})}),(0,c.jsx)(n.td,{children:"Pairing code generated"})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"creds.update"})}),(0,c.jsx)(n.td,{children:"Credentials updated"})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"messages.upsert"})}),(0,c.jsx)(n.td,{children:"New messages received"})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"messages.update"})}),(0,c.jsx)(n.td,{children:"Messages updated"})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"messages.reaction"})}),(0,c.jsx)(n.td,{children:"Message reactions"})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"messages.delete"})}),(0,c.jsx)(n.td,{children:"Messages deleted"})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"chats.upsert"})}),(0,c.jsx)(n.td,{children:"New chats created"})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"chats.update"})}),(0,c.jsx)(n.td,{children:"Chats updated"})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"groups.upsert"})}),(0,c.jsx)(n.td,{children:"New groups created"})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"groups.update"})}),(0,c.jsx)(n.td,{children:"Groups updated"})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"group-participants.update"})}),(0,c.jsx)(n.td,{children:"Group participants changed"})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"contacts.upsert"})}),(0,c.jsx)(n.td,{children:"New contacts added"})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"contacts.update"})}),(0,c.jsx)(n.td,{children:"Contacts updated"})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"presence.update"})}),(0,c.jsx)(n.td,{children:"Online status updates"})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"call"})}),(0,c.jsx)(n.td,{children:"Call events"})]})]})]}),"\n",(0,c.jsx)(n.h2,{id:"event-payloads",children:"Event Payloads"}),"\n",(0,c.jsx)(n.h3,{id:"messagesupsert",children:"messages.upsert"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-javascript",children:"socket.on('messages.upsert', (data) => {\n  const message = data.messages[0];\n  console.log(`New message from ${message.key.remoteJid}`);\n  console.log(message.message?.conversation || 'Media message');\n});\n"})}),"\n",(0,c.jsx)(n.h3,{id:"connectionupdate",children:"connection.update"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-javascript",children:"socket.on('connection.update', (update) => {\n  console.log('Connection status:', update.connection);\n  // Possible values: 'open', 'close', 'connecting'\n});\n"})}),"\n",(0,c.jsx)(n.h3,{id:"presenceupdate",children:"presence.update"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-javascript",children:"socket.on('presence.update', (update) => {\n  const { id, presences } = update;\n  console.log(`User ${id} is now ${presences.available ? 'online' : 'offline'}`);\n});\n"})})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,c.jsx)(n,{...e,children:(0,c.jsx)(l,{...e})}):l(e)}}}]);